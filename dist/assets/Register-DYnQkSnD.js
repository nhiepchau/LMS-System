import{d as x,r,a as V,c as h,w as d,b as t,M as P,bZ as U,B as C,m as o,q as k,g as B,k as S,t as q,P as E,s as N,x as M,e as b,C as T,h as F,b_ as I}from"./index-MoPcLG9q.js";import{V as R}from"./VForm-DLbA7YId.js";const j=b("h1",{class:"text-center my-10"},"Learning Outcome Evaluation Support",-1),D=b("br",null,null,-1),z={key:0,class:"text-error text-sm-center mt-4"},Z=x({__name:"Register",setup(A){const y=T("create-notification"),u=r(!1),i=r(""),m=r(""),c=r(""),n=r(""),v=r(""),s=r(!1),p=r(""),w=[function(a){return a?`${a}`.length<8?"Minimum password length is 8.":!0:"Password is required."}],g=[function(a){return a?a!==n.value?"Passwords do not match.":!0:"Password is required."}];async function _(){u.value&&(s.value=!0,setTimeout(async()=>{await F.post("/api/users/register/",{email:c.value,username:i.value,password:n.value,student_id:m.value,first_name:"",last_name:"",is_teacher:!1,phone_number:"",major:""}).then(function(a){s.value=!1,a.data.error?p.value=a.data.error:(y({type:"success",message:"Activate new account for student successfully!"}),setTimeout(()=>{I.push({name:"login"})},1e3))}).catch(()=>{s.value=!1})},1e3))}function f(a){return!!a||"Field is required"}return(a,e)=>(V(),h(M,{class:"bg-grey-lighten-4 h-100",fluid:""},{default:d(()=>[j,t(N,{class:"mx-auto px-6 py-8","max-width":"400"},{default:d(()=>[t(P,{src:U,width:"8rem",class:"mb-8 mx-auto"}),t(R,{modelValue:u.value,"onUpdate:modelValue":e[5]||(e[5]=l=>u.value=l),onSubmit:C(_,["prevent"])},{default:d(()=>[t(o,{modelValue:m.value,"onUpdate:modelValue":e[0]||(e[0]=l=>m.value=l),readonly:s.value,rules:[f],class:"mb-2",label:"Student ID",clearable:""},null,8,["modelValue","readonly","rules"]),t(o,{modelValue:c.value,"onUpdate:modelValue":e[1]||(e[1]=l=>c.value=l),readonly:s.value,rules:[f],class:"mb-2",label:"Email",type:"email",clearable:""},null,8,["modelValue","readonly","rules"]),t(o,{modelValue:i.value,"onUpdate:modelValue":e[2]||(e[2]=l=>i.value=l),readonly:s.value,rules:[f],class:"mb-2",label:"Username",clearable:""},null,8,["modelValue","readonly","rules"]),t(o,{modelValue:n.value,"onUpdate:modelValue":e[3]||(e[3]=l=>n.value=l),readonly:s.value,rules:w,label:"Password",placeholder:"Enter your password",clearable:"",type:"password"},null,8,["modelValue","readonly"]),t(o,{modelValue:v.value,"onUpdate:modelValue":e[4]||(e[4]=l=>v.value=l),readonly:s.value,rules:g,label:"Confirmed Password",placeholder:"Enter your password again",clearable:"",type:"password"},null,8,["modelValue","readonly"]),D,t(k,{disabled:!u.value,loading:s.value,color:"info",size:"large",type:"submit",variant:"elevated",block:""},{default:d(()=>[B(" Sign Up ")]),_:1},8,["disabled","loading"]),p.value!==""?(V(),S("p",z,q(p.value),1)):E("",!0)]),_:1},8,["modelValue"])]),_:1})]),_:1}))}});export{Z as default};
