import{bD as te,K as le,P as ae,an as ne,bE as oe,M as ue,ak as ie,U as re,bF as ce,I as C,bG as L,r as V,ad as de,N as fe,W as Ce,X as _,bH as me,g as r,bI as pe,E as w,F as k,l as U,bJ as ve,aC as ye,as as be,bK as he,d as ge,G as ke,o as g,c as M,w as $,e as P,f as Se,j as Fe,t as O,af as Ve}from"./index-C_42H0vA.js";const Ie=te("course",{state:()=>({selectedCourse:{CourseName:"",Semester:"",SemesterId:0,CourseCode:"",NumOfLabs:0,Classes:[{Name:"",Default:!1,Labs:[]}]}}),getters:{getCourse:e=>e.selectedCourse,getValidClasses:e=>()=>e.selectedCourse.Classes.filter(s=>s.Name!=="")},actions:{editCourse(e,s){let a=this.selectedCourse;switch(e){case"CourseName":a.CourseName=s.toString();break;case"CourseCode":a.CourseCode=s.toString();break;case"Semester":a.Semester=s.toString();break;case"SemesterId":typeof s=="number"&&(a.SemesterId=s);break;case"NumOfLabs":typeof s=="number"&&(a.NumOfLabs=s)}},setLabs(e,s){this.selectedCourse.Classes[e]&&(this.selectedCourse.Classes[e].Labs=s)},addClass(e){this.selectedCourse.Classes.push(e)},setClassName(e,s){this.selectedCourse.Classes[e]&&(this.selectedCourse.Classes[e].Name=s)},setClassDefault(e,s){this.selectedCourse.Classes[e]&&(this.selectedCourse.Classes[e].Default=s)},setClassFile(e,s,a){if(a!=="Submission"&&a!=="Exercise")return;this.selectedCourse.Classes[e]&&(this.selectedCourse.Classes[e][a]=s)}}}),Ne=le({chips:Boolean,counter:Boolean,counterSizeString:{type:String,default:"$vuetify.fileInput.counterSize"},counterString:{type:String,default:"$vuetify.fileInput.counter"},multiple:Boolean,showSize:{type:[Boolean,Number,String],default:!1,validator:e=>typeof e=="boolean"||[1e3,1024].includes(Number(e))},...ae({prependIcon:"$file"}),modelValue:{type:Array,default:()=>[],validator:e=>ne(e).every(s=>s!=null&&typeof s=="object")},...oe({clearable:!0})},"VFileInput"),we=ue()({name:"VFileInput",inheritAttrs:!1,props:Ne(),emits:{"click:control":e=>!0,"mousedown:control":e=>!0,"update:focused":e=>!0,"update:modelValue":e=>!0},setup(e,s){let{attrs:a,emit:i,slots:l}=s;const{t:S}=ie(),o=re(e,"modelValue"),{isFocused:u,focus:c,blur:m}=ce(e),p=C(()=>typeof e.showSize!="boolean"?e.showSize:void 0),v=C(()=>(o.value??[]).reduce((t,n)=>{let{size:y=0}=n;return t+y},0)),z=C(()=>L(v.value,p.value)),I=C(()=>(o.value??[]).map(t=>{const{name:n="",size:y=0}=t;return e.showSize?`${n} (${L(y,p.value)})`:n})),j=C(()=>{var n;const t=((n=o.value)==null?void 0:n.length)??0;return e.showSize?S(e.counterSizeString,t,z.value):S(e.counterString,t)}),B=V(),x=V(),d=V(),G=C(()=>u.value||e.active),R=C(()=>["plain","underlined"].includes(e.variant));function N(){var t;d.value!==document.activeElement&&((t=d.value)==null||t.focus()),u.value||c()}function K(t){var n;(n=d.value)==null||n.click()}function T(t){i("mousedown:control",t)}function H(t){var n;(n=d.value)==null||n.click(),i("click:control",t)}function J(t){t.stopPropagation(),N(),be(()=>{o.value=[],he(e["onClick:clear"],t)})}return de(o,t=>{(!Array.isArray(t)||!t.length)&&d.value&&(d.value.value="")}),fe(()=>{const t=!!(l.counter||e.counter),n=!!(t||l.details),[y,W]=Ce(a),{modelValue:ze,...X}=_.filterProps(e),q=me(e);return r(_,w({ref:B,modelValue:o.value,"onUpdate:modelValue":b=>o.value=b,class:["v-file-input",{"v-file-input--chips":!!e.chips,"v-input--plain-underlined":R.value},e.class],style:e.style,"onClick:prepend":K},y,X,{centerAffix:!R.value,focused:u.value}),{...l,default:b=>{let{id:F,isDisabled:h,isDirty:A,isReadonly:D,isValid:Q}=b;return r(pe,w({ref:x,"prepend-icon":e.prependIcon,onMousedown:T,onClick:H,"onClick:clear":J,"onClick:prependInner":e["onClick:prependInner"],"onClick:appendInner":e["onClick:appendInner"]},q,{id:F.value,active:G.value||A.value,dirty:A.value,disabled:h.value,focused:u.value,error:Q.value===!1}),{...l,default:Y=>{var E;let{props:{class:Z,...ee}}=Y;return r(k,null,[r("input",w({ref:d,type:"file",readonly:D.value,disabled:h.value,multiple:e.multiple,name:e.name,onClick:f=>{f.stopPropagation(),D.value&&f.preventDefault(),N()},onChange:f=>{if(!f.target)return;const se=f.target;o.value=[...se.files??[]]},onFocus:N,onBlur:m},ee,W),null),r("div",{class:Z},[!!((E=o.value)!=null&&E.length)&&(l.selection?l.selection({fileNames:I.value,totalBytes:v.value,totalBytesReadable:z.value}):e.chips?I.value.map(f=>r(U,{key:f,size:"small",color:e.color},{default:()=>[f]})):I.value.join(", "))])])}})},details:n?b=>{var F,h;return r(k,null,[(F=l.details)==null?void 0:F.call(l,b),t&&r(k,null,[r("span",null,null),r(ve,{active:!!((h=o.value)!=null&&h.length),value:j.value},l.counter)])])}:void 0})}),ye({},B,x,d)}}),Pe={key:1,class:"text-overline text-grey-darken-3 mx-2"},xe=ge({__name:"FileInput",props:{idx:{type:Number,default:-1},type:{type:String,default:""}},emits:["uploadFile"],setup(e,{emit:s}){const a=Ie(),i=V([]),l=e,S=s;ke(()=>{var u=a.getValidClasses();if(!(l.type!=="Submission"&&l.type!=="Exercise")&&l.idx>=0&&u.length>l.idx){i.value=[];const c=u[l.idx][l.type];c&&i.value.push(c)}});async function o(){if(i.value.length>0){let u=i.value.at(0);u&&(a.setClassFile(l.idx,u,l.type),S("uploadFile",u))}}return(u,c)=>(g(),M(we,{modelValue:i.value,"onUpdate:modelValue":[c[0]||(c[0]=m=>i.value=m),c[1]||(c[1]=m=>o())],"show-size":1e3,color:"sub",label:"File input",placeholder:"Choose your file","prepend-icon":"fas fa-paperclip",variant:"outlined",counter:"",density:"compact"},{selection:$(({fileNames:m})=>[(g(!0),P(k,null,Se(m,(p,v)=>(g(),P(k,{key:p},[v<2?(g(),M(U,{key:0,class:"me-2",color:"#6F9CEB",size:"small",label:""},{default:$(()=>[Fe(O(p),1)]),_:2},1024)):v===2?(g(),P("span",Pe," +"+O(i.value.length-2)+" File(s) ",1)):Ve("",!0)],64))),128))]),_:1},8,["modelValue"]))}});export{xe as _,Ie as u};
