import{K as $,a$ as q,a0 as E,b0 as D,b1 as F,b2 as T,b3 as I,a6 as N,a2 as R,aL as z,M as L,aM as M,a7 as j,a8 as U,b4 as A,b5 as G,b6 as H,b7 as J,b8 as K,aa as O,N as Q,g as a,_ as W,o as P,c as X,w as t,V as Y,z as f,b,d as Z,r as _,G as ee,e as ae,t as h,J as se,E as x,j as p,l as te,i as oe,s as le,F as ne,a_ as ie,H as re}from"./index-2v8kRtHD.js";import{V as ce}from"./VForm-BB1nP6dT.js";import{V as ue,_ as de}from"./VDataTable-AIUxmdsv.js";import{h as C}from"./http-UipYOg7Q.js";import{V as w}from"./VDialog-DTO3Qq-H.js";import"./FileInput.vue_vue_type_script_setup_true_lang-D1FWhtmc.js";import"./VTable-B6NYblOx.js";const me=$({color:String,...q(),...E(),...D(),...F(),...T(),...I(),...N(),...R(),...z()},"VSheet"),_e=L()({name:"VSheet",props:me(),setup(o,r){let{slots:i}=r;const{themeClasses:c}=M(o),{backgroundColorClasses:u,backgroundColorStyles:n}=j(U(o,"color")),{borderClasses:v}=A(o),{dimensionStyles:g}=G(o),{elevationClasses:d}=H(o),{locationStyles:m}=J(o),{positionClasses:k}=K(o),{roundedClasses:y}=O(o);return Q(()=>a(o.tag,{class:["v-sheet",c.value,u.value,v.value,d.value,k.value,y.value,o.class],style:[n.value,g.value,m.value,o.style]},i)),{}}}),pe={},fe=b("h3",{class:"text-primary mb-5 text-left"},"Add new question?",-1);function be(o,r){return P(),X(_e,{class:"mx-auto w-50 pa-5 text-right"},{default:t(()=>[fe,a(ce,{"validate-on":"submit lazy"},{default:t(()=>[a(Y,{label:"Question"}),a(f,{class:"mt-2 text-none bg-light-blue",text:"Submit",type:"submit",variant:"elevated"})]),_:1})]),_:1})}const ve=W(pe,[["render",be]]),ge={class:"d-flex flex-row w-100 justify-space-between"},ke={class:"text-primary"},Be=Z({__name:"Exercise",setup(o){const r=ie(),i=_(!1),c=_(!1),u=_(0),n=r.params.class_code.toString();async function v(){const l=n.substring(6,12),{data:e}=await C.get(`/api/courses/${l}/classes/${n}`);u.value=e.pk}function g(l){window.open(l,"_blank")}const d=_();async function m(){const{data:l}=await C.get(`/api/classes/${n}/exercises`);d.value=l.map(e=>{const V=e.level===1?"1-easy":e.level===2?"2-medium":e.level===3?"3-hard":"";return{question:e.exercise_code,name:e.exercise_name,level:V,topic:e.topic,lab_id:e.lab,outcome_id:e.outcome,bkel_link:e.url}})}ee(async()=>{await v(),await m()});function k(l){return l==="3-hard"?"red":l==="2-medium"?"orange":"green"}const y=[{title:"question",align:"start",key:"question",sortable:!1},{title:"name",align:"start",key:"name",sortable:!1},{title:"level",align:"start",key:"level",sortable:!1},{title:"topic",align:"start",key:"topic",sortable:!1},{title:"lab_id",align:"start",key:"lab_id",sortable:!1},{title:"outcome_id",align:"start",key:"outcome_id",sortable:!1},{title:"bkel_link",align:"center",key:"bkel_link",sortable:!1}];return(l,e)=>{const V=re,S=de,B=ve;return P(),ae(ne,null,[a(V),a(le,null,{default:t(()=>[b("div",ge,[b("h1",ke," ["+h(se(n).substring(6))+"] Exercises ",1),b("div",null,[a(w,{modelValue:i.value,"onUpdate:modelValue":e[1]||(e[1]=s=>i.value=s)},{activator:t(({props:s})=>[a(f,x({variant:"outlined"},s,{class:"text-none text-primary mr-3","prepend-icon":"fas fa-file-upload"}),{default:t(()=>[p("Import")]),_:2},1040)]),default:t(()=>[a(S,{classId:u.value,onOpenImportCard:e[0]||(e[0]=s=>{i.value=s,m()})},null,8,["classId"])]),_:1},8,["modelValue"]),a(w,{modelValue:c.value,"onUpdate:modelValue":e[2]||(e[2]=s=>c.value=s)},{activator:t(({props:s})=>[a(f,x({variant:"flat",height:"40"},s,{class:"text-none bg-primary text-white","prepend-icon":"fas fa-plus"}),{default:t(()=>[p("New question")]),_:2},1040)]),default:t(()=>[a(B)]),_:1},8,["modelValue"])])]),a(ue,{class:"border-sm rounded-lg mt-8",items:d.value,headers:y,"item-value":"name","show-select":""},{"item.level":t(({value:s})=>[a(te,{color:k(s)},{default:t(()=>[p(h(s),1)]),_:2},1032,["color"])]),"item.bkel_link":t(({value:s})=>[a(f,{icon:"",variant:"plain",onClick:ye=>g(s)},{default:t(()=>[a(oe,{size:"xsmall",class:"text-dark-grey"},{default:t(()=>[p("fas fa-link")]),_:1})]),_:2},1032,["onClick"])]),_:1},8,["items"])]),_:1})],64)}}});export{Be as default};
